<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="msapplication-TileImage" content="/dist/images/favicon_144x144.png">
<title>{{ia.mypage.submenu.orderDetail.title}}</title>
<link rel="stylesheet" href="/dist/lib/css/swiper.min.css">
<link rel="stylesheet" href="/dist/css/common.css">
<link rel="stylesheet" href="/dist/css/contents.css">
<link rel="stylesheet" href="/dist/css/mypage.css">
<link rel="stylesheet" href="/dist/css/mypage2.css">
<link rel="shortcut icon" href="/dist/images/favicon_144x144.png">
<script src="/dist/lib/js/jquery-3.6.0.min.js"></script>
<script src="/dist/lib/js/jquery-ui.min.js"></script>
<script src="/dist/js/ux-common.js"></script>
</head>
<body>
<div class="wrapper my">
  {{>header}}

  <div class="container">
    <div class="content">

      <div class="common_head">
        <a href="{{ia.mypage.submenu.orderList.url}}" class="common_head_back">{{ia.mypage.submenu.orderList.title}}</a>
        <h1 class="common_head_name">{{ia.mypage.submenu.orderDetail.title}}</h1>
      </div>

      <div class="my_order order_process">
        <ul class="order_list">
          <!-- 현상태만 class: on 추가, .ico_txt 내부에 <strong> 추가 -->
          <li class="step_1">
            <div class="ship_box">
              <span class="ico_txt">입금대기</span>
            </div>
          </li>
          <li class="step_2">
            <div class="ship_box">
              <span class="ico_txt">결제완료</span>
            </div>
          </li>
          <li class="step_3 on">
            <div class="ship_box">
              <span class="ico_txt"><strong>배송준비</strong></span>
            </div>
          </li>
          <li class="step_4">
            <div class="ship_box">
              <span class="ico_txt">배송중</span>
            </div>
          </li>
          <li class="step_5">
            <div class="ship_box">
              <span class="ico_txt">배송완료</span>
            </div>
          </li>
        </ul>
      </div>

      <div class="o_summary">
        <dl class="o_summary_status">
          <dt class="o_summary_term">처리상태</dt>
          <dd class="o_summary_desc">
            <strong>배송준비</strong>
            <button type="button" class="button button_positive button-s">배송조회</button>
          </dd>
        </dl>
        <dl class="o_summary_date">
          <dt class="o_summary_term">주문날짜</dt>
          <dd class="o_summary_desc">2021-05-12</dd>
        </dl>
        <dl class="o_summary_number">
          <dt class="o_summary_term">주문번호</dt>
          <dd class="o_summary_desc">20210512-663W24</dd>
        </dl>
      </div>

      <!-- 제품 정보 -->
      <div class="order_detail_cont">
        <div class="col_table_wrap order_list">
          <div class="col_table">
            <div class="col_table_head">
              <div class="col_table_row">
                <div class="col_table_cell">제품</div>
                <div class="col_table_cell">가격</div>
                <div class="col_table_cell">수량</div>
                <div class="col_table_cell">합계</div>
              </div>
            </div>
            <div class="col_table_body">
              <div class="col_table_row">
                <div class="col_table_cell prd_wrap">
                  <div class="prd">
                    <div class="prd_thumb">
                      <img class="prd_thumb_pic" src="/dist/images/_tmp/item640x640_01.png" alt="상품명입력">
                    </div>
                    <div class="prd_info">
                      <div class="prd_info_name">AK-47 Hi-Res 헤드폰 앰프</div>
                      <p class="prd_info_option">128Bit/피아노블랙</p>
                    </div>
                  </div>
                </div>
                <div class="col_table_cell prd_price">
                  4,299,000 <span class="won">원</span>
                </div>
                <div class="col_table_cell prd_count">
                  2 <span class="unit">개</span>
                </div>
                <div class="col_table_cell prd_total">
                  8,598,000 <span class="won">원</span>
                </div>
              </div>
              <div class="col_table_row">
                <div class="col_table_cell prd_wrap">
                  <div class="prd">
                    <div class="prd_thumb">
                      <img class="prd_thumb_pic" src="/dist/images/_tmp/item640x640_02.png" alt="상품명입력">
                    </div>
                    <div class="prd_info">
                      <div class="prd_info_name">AK-74 Hi-Res Aux 3.5mm 케이블 (16.5m)</div>
                      <p class="prd_info_option">AK-47 전용 고해상도 Aux 케이블 AK-47 전용 고해상도 Aux 케이블 AK-47 전용 고해상도 Aux 케이블 AK-47 전용 고해상도 Aux 케이블 AK-47 전용 고해상도 Aux 케이블 벗지않는 선글라스</p>
                    </div>
                  </div>
                </div>
                <div class="col_table_cell prd_price">
                  9,000 <span class="won">원</span>
                </div>
                <div class="col_table_cell prd_count">
                  2 <span class="unit">개</span>
                </div>
                <div class="col_table_cell prd_total">
                  18,000 <span class="won">원</span>
                </div>
              </div>
              <div class="col_table_row">
                <div class="col_table_cell prd_wrap">
                  <div class="prd">
                    <div class="prd_thumb">
                      <img class="prd_thumb_pic" src="/dist/images/_tmp/item640x640_03.png" alt="상품명입력">
                    </div>
                    <div class="prd_info">
                      <div class="prd_info_name">PLAYSTATION 5 DIGITAL (CFI-1018B01)</div>
                      <p class="prd_info_option">4K HDR(HLG), Fast Hybrid AF가 탑재된 전문가급 1인치 핸디캠/ LIMITED EDITION(사일런트 화이트)</p>
                    </div>
                  </div>
                </div>
                <div class="col_table_cell prd_price">
                  4,299,000 <span class="won">원</span>
                </div>
                <div class="col_table_cell prd_count">
                  2 <span class="unit">개</span>
                </div>
                <div class="col_table_cell prd_total">
                  8,598,000 <span class="won">원</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!--// 제품 정보 -->

      <!-- 주문 정보 -->
      <div class="cont order_info">
        <h3 class="cont_tit">주문 정보</h3>
        <div class="order_info_inner">
          <dl class="order">
            <dt class="order_term">주문자 정보</dt>
            <dd class="order_desc">김소니(01056781234)</dd>
            <dt class="order_term">수령인</dt>
            <dd class="order_desc">김소니(01056781234)</dd>
            <dt class="order_term">배송지</dt>
            <dd class="order_desc">서울특별시 영등포구 여의도동 국제금융로 10 One IFC 24층 ㈜ 소니코리아 서울특별시 영등포구 여의도동 국제금융로 10 One IFC 24층 ㈜ 소니코리아</dd>
            <dt class="order_term">배송 요청사항</dt>
            <dd class="order_desc">파손의 위험이 있는 상품이니 조심히 다뤄주세요.</dd>
            <dt class="order_term">배송일 선택</dt>
            <dd class="order_desc">정상 배송 </dd>
          </dl>
        </div>
      </div>
      <!-- // 주문 정보 -->

      <!-- 결제 정보 -->
      <div class="cont purchase_info">
        <h3 class="cont_tit">결제 정보</h3>
        <div class="purchase_info_inner">
          <dl class="purchase">
            <dt class="purchase_term purchase_price">총 주문금액</dt>
            <dd class="purchase_desc purchase_price">4,299,000<span class="won">원</span></dd>
            <dt class="purchase_term purchase_discount">할인 금액</dt>
            <dd class="purchase_desc purchase_discount">- 2,300  <span class="won">원</span></dd>
            <dt class="purchase_term purchase_discount_sub">프로모션 할인</dt>
            <dd class="purchase_desc purchase_discount_sub">- 2,000 <span class="won">원</span></dd>
            <dt class="purchase_term purchase_discount_sub">쿠폰 사용</dt>
            <dd class="purchase_desc purchase_discount_sub">- 0 <span class="won">원</span></dd>
            <dt class="purchase_term purchase_discount_sub">마일리지 사용</dt>
            <dd class="purchase_desc purchase_discount_sub">- 300 <span class="won">원</span></dd>
            <dt class="purchase_term purchase_detail">결제 내역</dt>
            <dd class="purchase_desc purchase_detail">
              <div class="purchase_detail_price">4,299,000 <span class="won">원</span></div>
              <!-- 결제정보 현금 -->
              <div class="purchase_detail_method">가상 계좌 : KB국민은행(1234-2345-32456)</div>
              <button type="button" class="button button_negative button-s popup_comm_btn" data-popup-name="cash_receipt">현금영수증 신청</button>
              <!--// 결제정보 현금 -->
              <!-- 결제정보 신용카드
              <div class="purchase_detail_method">삼성카드 / 일시불</div>
              <button type="button" class="button button_negative button-s">신용카드 영수증</button>
              -->
            </dd>
          </dl>
        </div>
      </div>
      <!-- // 결제 정보 -->
      <script>
        // 화면 출력하기
        function onPrint() {
          const html = document.querySelector('html');
          const printContents = document.querySelector('.content').innerHTML;
          const printDiv = document.createElement("div");
          printDiv.className = "print-div";

          html.appendChild(printDiv);
          printDiv.innerHTML = printContents;
          document.body.style.display = 'none';
          window.print();
          document.body.style.display = 'block';
          printDiv.style.display = 'none';
        }
      </script>
      <!-- buttons -->
      <div class="cont button_wrap">
        <button type="button" class="button button_negative">주문 취소</button>
        <button type="button" class="button button_negative only-pc" onclick="onPrint()">주문 정보 프린트</button>
        <a href="#" class="button button_positive">목록</a>
      </div>
      <!-- // buttons -->
    </div>
  </div>
  {{>footer}}
</div>

<!-- s: 찜 장바구니 담기 -->
<div class="popup_wrap size_ms cash_receipt">
  <div class="pop_inner">
    <div class="pop_cont">
      <p class="pop_tit">현금영수증 발행요청</p>
      <div class="pop_cont_scroll">
        <form action="">
        <div class="form_zone">
          <div class="payment_amount">
            <p class="txt">주문번호 : <span class="num">20210512-663W24</span></p>
            <div class="amount_result">
              <p class="amount_tit">결제금액</p>
              <p class="val_txt"><strong class="val">2,400,000</strong>원</p>
              <p class="vat_txt">(부가세 75,000원)</p>
            </div>
          </div>
          <div class="input_item">
            <div class="group">
              <div class="inp_box">
                <label class="inp_desc" for="receipt_phone">
                  <input type="text" id="receipt_phone" class="inp" placeholder="&nbsp;" autocomplete="off" value="01012345678">
                  <span class="label">휴대폰 번호<span>(-없이 입력하세요.)</span></span>
                  <span class="focus_bg"></span>
                </label>
              </div>
              <div class="error_txt"><span class="ico"></span>휴대폰 번호를 입력해주세요.</div>
            </div>
            <div class="group">
              <div class="inp_box">
                <label class="inp_desc" for="receipt_email">
                  <input type="text" id="receipt_email" class="inp" placeholder="&nbsp;" autocomplete="off" value="sony@sony.co.kr">
                  <span class="label">이메일<span>(예 : sony@sony.co.kr)</span></span>
                  <span class="focus_bg"></span>
                </label>
              </div>
              <div class="error_txt"><span class="ico"></span>이메일 아이디를 입력해 주세요.</div>
            </div>
            <div class="group radio_group">
              <div class="radio_box">
                <input type="radio" class="inp_radio" id="receipt_radio1" name="popradio" checked="checked">
                <label for="receipt_radio1" class="contentType">소비자 소득공제용</label>
              </div>
              <div class="radio_box">
                <input type="radio" class="inp_radio" id="receipt_radio2" name="popradio">
                <label for="receipt_radio2" class="contentType">사업자 지출증빙용</label>
              </div>
            </div>
          </div>
          <div class="group business_registration" style="display:none;">
            <div class="inp_box">
              <label class="inp_desc" for="receipt_b_r">
                <input type="text" id="receipt_b_r" class="inp" placeholder="&nbsp;" autocomplete="off">
                <span class="label">사업자 등록 번호<span>(-포함 등록)</span></span>
                <span class="focus_bg"></span>
              </label>
            </div>
            <div class="error_txt"><span class="ico"></span>사업자 등록 번호를 입력하세요.</div>
          </div>
          <div class="btn_article">
            <button class="button button_positive button-full" type="button">발행</button>
          </div>
          <div class="guide_list">
            <p class="tit ico_tit">유의사항</p>
            <ul class="list_dot">
              <li>휴대폰 번호와 이메일 주소 변경이 가능합니다.</li>
              <li><strong>입력하신 휴대폰 번호와 이메일 주소는 고객님의 결제내역 발송을 위함이오니 반드시 기입 하시기바랍니다.</strong></li>
              <li>발행 버튼을 눌러서 현금영수증 발행 요청을 완료하세요.</li>
              <li><strong>발행은 PC버전에서만 가능합니다.</strong></li>
            </ul>
          </div>
        </div>
        </form>
      </div>
    </div>
    <button href="#" class="ico_x closed" title="닫기">
      <span>닫기</span>
    </button>
  </div>
</div>
<!-- // e: 찜 장바구니 담기 -->
</body>
</html>
<script>
$(function(){
  // 팝업
  $('.popup_comm_btn').on("click",function(){
    let _popName = $(this).data("popup-name");
    if($('.popup_wrap:animated').length < 1){ // fadeInOut 시 중복 클릭 방지
      popupCommon(_popName, $(this)); // 오픈할 팝업과 닫기 시 돌아갈 포커스 select
    }
    cashReceipt();
  });
  // 현금영수증 발행요청 - 소비자 소득공제용
  function cashReceipt(){
    let $receiptWrap = $('.cash_receipt'),
        $radioBtn = $receiptWrap.find('.inp_radio');
    $radioBtn.off().on("change", function(){
      let _index = $(this).closest('.radio_box').index();
      console.log(_index);
      if(_index == 1){
        $('.business_registration').show();
      }else{
        $('.business_registration').hide();
      }
    });
  }
});
</script>
