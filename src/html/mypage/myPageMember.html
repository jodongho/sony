<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="msapplication-TileImage" content="/dist/images/favicon_144x144.png">
<title>{{ia.mypage.submenu.myPageMember.title}}</title>
<link rel="shortcut icon" href="/dist/images/favicon_144x144.png">
<link rel="stylesheet" href="/dist/css/contents.css">
<link rel="stylesheet" href="/dist/css/mypage.css">
<script src="/dist/lib/js/jquery-3.6.0.min.js"></script>
<script src="/dist/js/ux-common.js"></script>
<script src="/dist/js/ux-sub.js"></script>
<script src="/dist/lib/js/jquery-ui.min.js"></script>
</head>
<body>
<div class="wrapper my">
  {{>header}}
  <div class="member_wrap">
    <div class="head_title">
      <a href="#" class="back_link">마이페이지</a>
      <h2 class="title">회원정보</h2>
    </div>
    <form action="">
    <div class="member_info">
      <div class="member_withdrawal">
        <a href="#" class="button button_secondary button-s">회원탈퇴</a>
      </div>
      <div class="member_info_list">
        <div class="member_list name">
          <div class="tit_inner">
            <label for="member_name" class="tit">이름</label>
          </div>
          <div class="info_inner">
            <div class="info_box type_txt_btn">
              <div class="data_box sub_txt_box">
                <div class="inp_box">
                  <input type="text" id="member_name" class="inp disabled" value="김소니" disabled="disabled" maxlength="50" autocomplete="off">
                  <span class="focus_bg"></span>
                </div>
                <p class="name_desc">※ 개명(이름 변경)한 경우 ‘이름 변경’ 버튼을 눌러주세요.</p>
              </div>
              <div class="btn_box">
                <button class="button change_btn" type="button">이름변경</button>
              </div>
            </div>
          </div>
        </div>
        <div class="member_list tel">
          <div class="tit_inner">
            <label for="member_tel" class="tit">휴대폰</label>
          </div>
          <div class="info_inner">
            <div class="info_box type_txt_btn">
              <div class="data_box">
                <div class="inp_box">
                  <input type="text" id="member_tel" class="inp tel_number disabled" value="12345678910" disabled="disabled" maxlength="11" autocomplete="off" placeholder="&nbsp">
                  <span class="label">휴대폰 번호<span>(- 없이 입력하세요.)</span></span>
                  <span class="focus_bg"></span>
                </div>
              </div>
              <div class="btn_box">
                <button class="button change_btn" type="button"><span>휴대폰</span> 번호 변경</button>
              </div>
            </div>
            <div class="info_box type_txt_btn tel_chk">
              <div class="data_box">
                <div class="inp_box">
                  <input type="text" class="inp" maxlength="11" title="인증번호  입력해주세요." disabled="disabled" placeholder="&nbsp" autocomplete="off">
                  <span class="label">인증번호</span>
                  <span class="focus_bg"></span>
                </div>
                <span class="timer" id="timer">02:55</span>
              </div>
              <div class="btn_box">
                <button class="button btn_primary" disabled="disabled" type="button">인증</button><!-- class : on  -->
              </div>
              <div class="certify_txt">※ 입력하신 번호로 인증번호가 전송되었습니다.</div>
            </div>
          </div>
        </div>
        <div class="member_list email">
          <div class="tit_inner">
            <label for="member_email" class="tit">이메일 아이디</label>
          </div>
          <div class="info_inner">
            <div class="info_box">
              <div class="data_box">
                <div class="inp_box">
                  <input type="text" id="member_email" class="inp disabled" value="sony@sony.co.kr" disabled="disabled" maxlength="50">
                  <span class="focus_bg"></span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="member_list birth_date">
          <div class="tit_inner">
            <label for="member_birth" class="tit">생년월일</label>
          </div>
          <div class="info_inner">
            <div class="info_box">
              <div class="data_box">
                <div class="inp_box">
                  <input type="text" id="member_birth" class="inp disabled" value="20020518" disabled="disabled" maxlength="8">
                  <span class="focus_bg"></span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="member_list grade">
          <div class="tit_inner">
            <label for="member_grade" class="tit">회원구분</label>
          </div>
          <div class="info_inner">
            <div class="info_box">
              <div class="data_box">
                  <div class="inp_box">
                    <span class="ico_grade vvip"><!-- class : vvip / vip / family-->
                    <input type="text" id="member_grade" class="inp disabled" value="VVIP" disabled="disabled" maxlength="20">
                    <span class="focus_bg"></span>
                  </div>
                </span>
              </div>
            </div>
          </div>
        </div>
        <div class="member_list password">
          <div class="tit_inner">
            <label for="member_password" class="tit">비밀번호</label>
          </div>
          <div class="info_inner">
            <div class="info_box type_txt_btn">
              <div class="data_box">
                <div class="inp_box">
                  <input type="password" id="member_password" class="inp disabled" value="123456789" disabled="disabled" maxlength="50" autocomplete="off">
                  <span class="focus_bg"></span>
                </div>
              </div>
              <div class="btn_box">
                <button class="button change_btn popup_comm_btn" type="button" data-popup-name="password_change">비밀번호 변경</button>
              </div>
            </div>
          </div>
        </div>
        <div class="member_list address">
          <div class="tit_inner">
            <label for="member_addr" class="tit">주소</label>
          </div>
          <div class="info_inner">
            <div class="info_box type_txt_btn">
              <div class="data_box">
                <div class="inp_box">
                  <input type="text" id="member_addr" class="inp disabled" value="05781" disabled="disabled" maxlength="50">
                  <span class="focus_bg"></span>
                </div>
              </div>
              <div class="btn_box">
                <button class="button change_btn" type="button">주소 변경</button>
              </div>
            </div>
            <div class="info_box">  
              <div class="data_box">
                <div class="inp_box">
                  <input type="text" id="member_addr2" class="inp disabled" value="서울특별시 영등포구 여의도동 국제금융로 10 One IFC" disabled="disabled" maxlength="50">
                </div>
              </div>
            </div>
            <div class="info_box">   
              <div class="data_box"><div class="inp_box">
                <input type="text" id="member_addr3" class="inp disabled" value="One IFC 24층 ㈜ 소니코리아" disabled="disabled" maxlength="50">
                <span class="focus_bg"></span>
              </div>
              </div>
            </div>
          </div>                       
        </div>
        <div class="member_list opt_in">
          <div class="tit_inner">
            <p class="tit">이벤트/포로모션<br class="mo_none"> 알림</p>
          </div>
          <div class="info_inner">
            <div class="info_box">
              <div class="switchbtn_box">          
                <div class="switchbtn">
                  <span class="switch_tit">메일 수신</span>
                  <label class="switch">
                    <input type="checkbox" name="email_in" class="check_all">
                    <span class="toggle"></span>
                  </label>
                </div>
                <div class="switchbtn">
                  <span class="switch_tit">SMS 수신</span>
                  <label class="switch">
                    <input type="checkbox" name="sms_in" class="check_all">
                    <span class="toggle"></span>
                  </label>
                </div>
              </div> 
            </div>
          </div>
        </div>
        <!-- 로봇이 아닙니다. -->
        <div class="macro_chk_box" style="display:none;">

        </div>
        <!-- // 로봇이 아닙니다. -->
      </div><!-- // member_info_list -->
      <div class="btn_article">
        <button class="button button_positive button-full popup_comm_btn" data-popup-name="modify_pw_chk" type="button" >회원정보 수정</button>
      </div>
    </div>
    </form>
  </div><!-- // member_wrap -->       
  {{>footer}}
</div>

 <!-- s: 비밀번호 변경 팝업-->
 <div class="popup_wrap size_ms password_change">
  <div class="pop_inner">
    <div class="pop_cont">
      <p class="pop_tit tit_inp">비밀번호 변경</p>
      <div class="pop_cont_scroll">
        <form action=""> 
        <div class="form_zone">
          <div class="input_item">
            <div class="group">
              <div class="inp_box">
                <label class="inp_desc" for="popPw">
                  <input type="password" id="popPw" class="inp center" placeholder="&nbsp;" autocomplete="off">
                  <span class="label">비밀번호 입력</span>
                  <span class="focus_bg"></span>              
                 <div class="eyes"><a href="#" title="비밀번호 숨김"><i class="ico ico_eyes"></i></a></div>
                </label>
              </div>
              <div class="error_txt"><span class="ico"></span>현재 비밀번호가 올바르지 않습니다.</div>
            </div>
            <div class="group">
              <div class="inp_box">
                <label class="inp_desc" for="popPw">
                  <input type="password" id="popPw" class="inp center" placeholder="&nbsp;" autocomplete="off">
                  <span class="label"> 새 비밀번호 입력</span>
                  <span class="focus_bg"></span>              
                 <div class="eyes"><a href="#" title="비밀번호 숨김"><i class="ico ico_eyes"></i></a></div>
                </label>
              </div>
              <div class="error_txt">
                <span class="ico"></span>
                영문 대/소문자, 숫자를 혼합하여 12자리 이상 15자리 미만으로
                입력하시기 바랍니다. 일부 특수문자도 사용 가능합니다.
              </div>
            </div>
            <div class="group">
              <div class="inp_box">
                <label class="inp_desc" for="popPw">
                  <input type="password" id="popPw" class="inp center" placeholder="&nbsp;" autocomplete="off">
                  <span class="label">새 비밀번호 확인</span>
                  <span class="focus_bg"></span>              
                 <div class="eyes"><a href="#" title="비밀번호 숨김"><i class="ico ico_eyes"></i></a></div>
                </label>
              </div>
              <div class="error_txt"><span class="ico"></span>새 비밀번호가 일치하지 않습니다.</div>
            </div>
          </div>
          <div class="btn_article">
            <button class="button button_positive button-full" type="button">비밀번호 변경</button>
          </div>
          <div class="guide_list">
            <p class="tit ico_tit">주의사항 및 안내</p>
            <ul class="list_dot">
              <li><strong>영문 대문자와 소문자, 숫자 조합으로 12자리 이상 15자리 미만으로 입력</strong>해 주세요.</li>
              <li><strong>일부 특수문자도 사용 가능합니다.</strong></li>
              <li>아이디와 같은 비밀번호나 주민등록번호, 생일, 전화번호 등 개인정보와 관련된 숫자, 연속된 숫자, 반복되는 숫자 등은 타인이 쉽게 알아낼 수 있어 유출의 위험이 있으니 사용하지 않는 것이 좋습니다. </li>   
              <li>이전에 사용된 비밀번호를 재사용하시면 도용의 우려가 있으니 새로운 비밀번호로 사용해 주세요.</li>
              <li>소니스토어에서 사용하는 자체 비밀번호는 회원 정보 수정 및 회원 탈퇴 시에 꼭 필요합니다.(가입 시 이용한 각 SNS 계정 비밀번호와는 다름)</li>
              <li>비밀 번호는 주기적으로 변경해 주세요. (<strong>최소 3개월에 1회</strong>는 변경해 주시는 것이 좋습니다.)</li>
              <li>타 사이트와 동일하거나 유추할 수 있는 비밀 번호는 도용의 위험이 크니, 안전도가 높은 비밀 번호로 변경하시길 권장합니다. </li>
              <li><strong>SNS 계정으로 가입하신 회원님은 각 SNS 페이지에서 수정 및 변경하시기 바랍니다.</strong></li>
            </ul>
          </div>
        </div>
        </form>
      </div>
    </div>
    <button href="#" class="ico_x closed" title="닫기">
      <span>닫기</span>
    </button>
  </div>
</div>
<!-- // e: 비밀번호 변경 -->

<!-- s: 비밀번호 확인-->
<div class="popup_wrap size_ms modify_pw_chk">
  <div class="pop_inner">
    <div class="pop_cont">
      <p class="pop_tit tit_inp">비밀번호 확인</p>
      <div class="pop_cont_scroll">
        <form action=""> 
        <div class="form_zone">
          <div class="input_item">
            <div class="group">
              <div class="inp_box">
                <label class="inp_desc" for="popPw">
                  <input type="password" id="popPw" class="inp center" placeholder="&nbsp;" autocomplete="off">
                  <span class="label">비밀번호 입력</span>
                  <span class="focus_bg"></span>              
                 <div class="eyes"><a href="#" title="비밀번호 숨김"><i class="ico ico_eyes"></i></a></div>
                </label>
              </div>
              <div class="error_txt"><span class="ico"></span>현재 비밀번호가 올바르지 않습니다.</div>
            </div>
            <div class="btn_article">
              <button class="button button_negative" type="button">취소</button>
              <button class="button button_positive" type="button">확인</button>
            </div>
            <div class="sns_login_box">
              <p class="sns_title">SNS 계정으로 회원 인증</strong></p>
              <p class="sns_txt">가입하신 SNS 계정으로 회원 인증해 주세요.</p>
              <ul class="sns_list">
                <li class="naver"><a href="#">네이버</a></li>
                <li class="kakao"><a href="#">카카오톡</a></li>
                <li class="facebook"><a href="#">페이스북</a></li>
              </ul>
            </div>
          </div>
          <div class="guide_list">
            <ul class="list_dot">
              <li>고객님의 정보를 안전하게 보호 하기 위해 비밀번호를 다시 한번 확인합니다.</li>
              <li>비밀번호는 타인에게 노출되지 않게 주의 해 주십시오.</li>
              <li><strong>비밀번호 입력 후 확인을 누르시면 회원정보가 변경됩니다.</strong></li>
            </ul>
          </div>
        </div>
        </form>
      </div>
    </div>
    <button href="#" class="ico_x closed" title="닫기">
      <span>닫기</span>
    </button>
  </div>
</div>
<!-- // e: 비밀번호 확인 -->

</body>
</html>
                           
<script type="text/javascript">
  
$(function(){
  
  const telChange = () => {
    let _smsLength = 0;
    $('.tel .change_btn').on("click",function(){
      let $listBox = $(this).closest('.member_list');
      if($(this).hasClass("authentication")){
        // 핸드폰 유효성 체크 
        if(true){ // 핸드폰 번호가 통과 되면 아래 기능 실행.
          if(_smsLength > 0){
            alert("인증번호가 재전송 되었습니다."); 
          }else{
            _smsLength++;
            alert("핸드폰 체크 click alert");
          }
          SMSNumber($listBox.find('.tel_chk')); // 인증번호 란에 입력 가능.
          $listBox.find('.certify_txt').fadeIn(200,function(){
            setTimeout(function() {
              $listBox.find('.certify_txt').fadeOut(200); 
            }, 2000);
          })
        }
      }else{
        $(this).addClass("authentication").text("인증번호");
        $listBox.find('.tel_number').removeClass("disabled").removeAttr("disabled").val("");
        $listBox.find('.tel_chk').slideDown();
      }
    });
    // 인증 번호 체크 
    function SMSNumber(inputTel){
      let $numInput = $(inputTel).find('.inp');
      $numInput.removeAttr("disabled").val("").focus();
      $numInput.off().on("keyup",function(){
        let $infoBox = $(this).closest('.info_box'),
            _pushTxt= $(this).val().length;
        if(_pushTxt > 0){
          $infoBox.find('.btn_primary').addClass("on").removeAttr("disabled");
        }else{
          $infoBox.find('.btn_primary').removeClass("on").attr("disabled","disabled");
        }
      });
    }
  }
  telChange(); 

  // 팝업
  $('.popup_comm_btn').on("click",function(){
    let _popName = $(this).data("popup-name");
    if($('.popup_wrap:animated').length < 1){ // fadeInOut 시 중복 클릭 방지
      popupCommon(_popName, $(this)); // 오픈할 팝업과 닫기 시 돌아갈 포커스 select
    }
    passwordView();
  });
  const passwordView = (e) =>{
    // 눈표시 클릭 시 패스워드 보이기 
    let $eyes = $('.eyes');
    for(let _eyesNum = 0; _eyesNum < $eyes.length ; _eyesNum++){ // countbox 개별 제어
      eyesFunc($eyes[_eyesNum]);
    }
    function eyesFunc(eyes){
      $(eyes).off().on('click',function(){
        let $inputBox = $(this).closest('.inp_box');
        $inputBox.toggleClass('active'); 
        if($inputBox.hasClass('active') == true ){
          $(this).find('.ico_eyes').attr('class',"ico_eyes_open")
          $inputBox.find('.inp').attr('type',"text");
          $(this).find('>a').attr('title',"비밀번호 표시");
          // i 클래스 // 텍스트 보이기 i 클래스 
        } 
        else{ 
          $(this).find('.ico_eyes_open').attr('class',"ico_eyes")
          $inputBox.find('.inp').attr('type','password');
          $(this).find('>a').attr('title',"비밀번호 숨김");      
        }
        return false;
      });
    }
  }
});
</script>