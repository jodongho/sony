<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>소니스토어 선물하기</title>
<link rel="stylesheet" href="/dist/css/common.css">
<link rel="stylesheet" href="/dist/css/contents.css">
<link rel="stylesheet" href="/dist/css/order.css">
<script src="/dist/lib/js/jquery-3.6.0.min.js"></script>
<script src="/dist/lib/js/jquery-ui.min.js"></script>
</head>
<body>
<div class="wrapper">
  <div class="erro orderPresent">
    <div class="error__header">
      <h1 class="error_logo">
        <a href="http://sony.co.kr"><img src="/dist/images/common/error_logo.svg" alt="SONY"></a>
      </h1>
    </div>
    <div class="orderPresent_container">
      <div class="orderPresent_info">
        <i class="present"><img src="/dist/images/order/ic_present.svg" alt=""></i>
        <h2 class="orderPresent_tit">소니스토어 선물하기</h2>
        <p class="orderPresent_dsc">선물 받으실 상품의 배송지 정보를 입력해 주세요!</p>
      </div>
      <div class="order_box__cont">
        <div class="acc acc_ui_zone">
          <!-- acc_item -->
          <div class="acc_item">
            <div class="acc_head">
              <a href="#" class="acc_btn" title="배송지 정보">
                <span class="acc_tit">배송지 정보</span>
              </a>
            </div>
            <div class="acc_inner">
              <div class="acc_box">
                <p class="acc_dsc_top">표시는 필수입력 정보</p>
                <div class="acc_form">
                  <div class="acc_cell">
                    <label for="user_name">수령인 이름<i class="necessary"></i></label>
                  </div>
                  <div class="acc_cell">
                    <div class="acc_group parent error"><!-- error 문구 제어 -->
                      <div class="acc_inp type3">
                        <input type="text" class="inp" id="user_name" placeholder="이름을 입력하세요. (띄어쓰기 없이 입력하세요.)">
                        <span class="focus_bg"></span>
                      </div>
                      <p class="error_txt"><span class="ico"></span>이름을 입력해 주세요.</p>
                    </div>
                  </div> 
                </div>
                <div class="acc_form">
                  <div class="acc_cell">
                    <label for="user_number">휴대폰 번호<i class="necessary"></i></label>
                  </div>
                  <div class="acc_cell">
                    <div class="acc_group parent error"><!-- error 문구 제어 -->
                      <div class="acc_inp type3">
                        <input type="text" class="inp" id="user_number" placeholder="휴대폰 번호를 입력해 주세요. (-없이 입력하세요.)">
                        <span class="focus_bg"></span>
                      </div>
                      <p class="error_txt"><span class="ico"></span>휴대폰 번호를 입력해 주세요.</p>
                    </div>
                  </div>
                </div>
                <div class="acc_form">
                  <div class="acc_cell vat">
                    <label for="user_address">주소<i class="necessary"></i></label>
                  </div>
                  <div class="acc_cell">
                    <div class="acc_group parent error"><!-- error 문구 제어 -->
                      <div class="acc_inp type4">
                        <input type="text" class="inp" id="user_address" placeholder="주소를 입력하세요.">
                        <span class="focus_bg"></span>
                        <div class="delivery_btn_box">
                          <button class="button button_negative button-s" type="button">우편 번호</button>
                        </div>
                        <p class="error_txt"><span class="ico"></span>배송 받으실 주소를 입력해 주세요.</p>
                      </div>
                    </div>
                    <div class="acc_group parent">
                      <div class="acc_inp type5">
                        <input type="text" class="inp" placeholder="">
                        <span class="focus_bg"></span>
                      </div>
                    </div>
                    <div class="acc_group parent error"><!-- error 문구 제어 -->
                      <div class="acc_inp type5">
                        <input type="text" class="inp" placeholder="상세 주소를 입력하세요.">
                        <span class="focus_bg"></span>
                      </div>
                      <p class="error_txt"><span class="ico"></span>상세 주소를 입력해 주세요.</p>
                    </div>                                             
                  </div>                   
                </div>
                <div class="acc_form">
                  <div class="acc_cell vat">
                    <label for="delivery_request">배송 요청 사항</label>
                  </div>
                  <div class="acc_cell">
                    <div class="acc_group parent">
                      <div class="acc_inp type3">
                        <div class="select_ui_zone btm_line">
                          <a href="#" class="selected_btn" data-default-text="택배 기사님께 요청하실 내용을 선택하세요."><!-- disabled : 선택불가 품절 -->
                            택배 기사님께 요청하실 내용을 선택하세요.
                          </a>
                          <div class="select_inner">
                            <p class="prd_tag">요청사항</p>
                            <ul class="select_opt">
                              <li>
                                <a href="#" class="opt_list"><!-- disabled : 선택 불가 품절 -->
                                  <div class="item">배송 전 연락바랍니다.</div>
                                </a>
                              </li>
                              <li>
                                <a href="#" class="opt_list">
                                  <div class="item">부재 시 경비실에 맡겨 주세요.</div>
                                </a>
                              </li>
                              <li>
                                <a href="#" class="opt_list">
                                  <div class="item">부재 시 무인 택배함에 맡겨주세요.</div>
                                </a>
                              </li>
                              <li>
                                <a href="#" class="opt_list">
                                  <div class="item">부재 시 집 문앞에 놔주세요.</div>
                                </a>
                              </li>                                            
                              <li>
                                <a href="#" class="opt_list">
                                  <div class="item">부재 시 휴대폰으로 연락 주세요.</div>
                                </a>
                              </li>                                                
                              <li>
                                <a href="#" class="opt_list">
                                  <div class="item">파손의 위험이 있는 상품이니 조심히 다뤄주세요.</div>
                                </a>
                              </li>                                     
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="acc_group parent">
                      <div class="acc_inp type3">
                        <input type="text" class="inp" placeholder="배송 메모를 입력하세요.">
                        <span class="focus_bg"></span>
                      </div>
                    </div>    
                    <ul class="list_dot">
                      <li>선물하기로 배송 받으시는 경우 상품의 배송조회는 주문하신 분만 조회가 가능합니다.</li>
                      <li>소니스토어의 모든 상품은 무료 배송입니다.</li>
                    </ul>                                           
                  </div>
                </div>                          
              </div>
            </div>
          </div>
          <!-- // acc_item -->
        </div>
        <div class="parent">
          <button class="button button_positive button-full" type="button">입력 완료</button>
        </div>      
      </div>
    </div>
  </div>
</div>
<script>
  
  let $selectBox = $('.select_ui_zone');
    for(let _selectNum = 0; _selectNum < $selectBox.length ; _selectNum++){ // select 개별 제어
      selectFunc($selectBox[_selectNum]);
    }
    function selectFunc(select){
      $(select).find('.selected_btn').on("click",function(){
        let $thisSelect = $(this).closest('.select_ui_zone'),
            $selectList = $thisSelect.find('.select_inner');
        if($thisSelect.hasClass("disabled")) { // 클릭 막기
          _thisEvent.preventDefault
          return false;
        }
        if($thisSelect.find(".select_inner:animated").length < 1){ // 열고 닫고 여러번 중독 안되게 하기 위함.
          if($thisSelect.hasClass("open")){
            $thisSelect.removeClass("open");
            $selectList.slideUp(200);
            $(this).html($(this).data("default-text"));
          }else{
            $thisSelect.addClass("open").siblings().removeClass("open");
            $thisSelect.siblings().find('.select_inner').hide();
            $selectList.slideDown(200);
          }
          optSelect($thisSelect);     
          selectClosed($thisSelect); // 다른 영역 클릭 시 닫기
        }
        return false;
      });
      function optSelect(_list){ // option 클릭
        let $openBtn = $(_list).find('.selected_btn');
            $thisOpt = $(_list).find('.opt_list');
        $thisOpt.off().on("click", function(_thisEvent){
          let _optClone = $(this).html();
          if($(this).hasClass("disabled")){ // 품절 제품 막기
            _thisEvent.preventDefault
            return false;
          }
          $openBtn.html(_optClone);
          $(_list).removeClass("open");
          $(_list).find('.select_inner').slideUp(200);
          return false;
        });
      }

      // 해당 select 외에 다른 영역 클릭 시 닫기
      function selectClosed($zone){
        $(document).off().on('click', function(event) {
          let $selectChk = $(event.target).closest('.select_ui_zone');
          if($selectChk.length == 0){
            $zone.removeClass("open");
            $zone.find('.select_inner').slideUp(200);
          }
        });
      }
    }

</script>
</body>
</html>